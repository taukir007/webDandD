<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Web Design & Dev ‚Äî Daily Practice</title>

<style>
:root {
    --bg-dark: #030712;
    --accent-1: #818cf8;
    --accent-2: #c084fc;
    --glass: rgba(17, 24, 39, 0.7);
    --glass-border: rgba(255, 255, 255, 0.1);
    --text: #f1f5f9;
    --transition: 0.4s cubic-bezier(0.23, 1, 0.32, 1);
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
}

* { box-sizing: border-box; }

body {
    margin: 0;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    color: var(--text);
    background-color: var(--bg-dark);
    background-image:
        radial-gradient(at 0% 0%, rgba(99,102,241,.15) 0px, transparent 50%),
        radial-gradient(at 100% 100%, rgba(192,132,252,.15) 0px, transparent 50%);
    background-attachment: fixed;
}

/* Header */
header {
    padding: 60px 20px 20px;
    text-align: center;
}

.logo {
    width: 64px;
    height: 64px;
    border-radius: 18px;
    background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 15px;
    font-weight: 800;
    font-size: 22px;
    color: white;
    box-shadow: 0 10px 30px rgba(99,102,241,.3);
}

.controls {
    max-width: 1000px;
    margin: 20px auto;
    padding: 0 20px;
}

.search-bar {
    width: 100%;
    background: var(--glass);
    border: 1px solid var(--glass-border);
    backdrop-filter: blur(12px);
    padding: 14px 20px;
    border-radius: 14px;
    color: white;
    outline: none;
}

/* Loader */
#loader {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    margin-top: 50px;
}
.spinner {
    width: 40px;
    height: 40px;
    border: 4px solid rgba(255,255,255,.1);
    border-top: 4px solid var(--accent-1);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* Grid */
main {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    width: 100%;
    flex: 1;
}
.grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px,1fr));
    gap: 20px;
}

/* Cards */
.card {
    background: var(--glass);
    backdrop-filter: blur(16px) saturate(180%);
    border: 1px solid var(--glass-border);
    border-radius: 24px;
    padding: 24px;
    display: flex;
    flex-direction: column;
    gap: 12px;
    transition: var(--transition);
    cursor: pointer;
}
.card:hover {
    transform: translateY(-8px);
    border-color: var(--accent-1);
}

.badge {
    font-size: .65rem;
    font-weight: 700;
    padding: 4px 10px;
    border-radius: 8px;
    text-transform: uppercase;
    align-self: flex-start;
}
.badge-live { background: rgba(129,140,248,.2); color: var(--accent-1); }
.badge-code { background: rgba(156,163,175,.2); color: #94a3b8; }

/* Modal */
.modal {
    position: fixed;
    inset: 0;
    background: rgba(3,7,18,.95);
    backdrop-filter: blur(25px);
    display: none;
    z-index: 100;
    flex-direction: column;
    padding: 15px;
}
.modal.open { display: flex; }

.modal-toolbar {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-bottom: 10px;
}
.tool-btn {
    width: 42px;
    height: 42px;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,.1);
    background: rgba(255,255,255,.1);
    color: white;
    cursor: pointer;
    font-size: 18px;
}
.tool-btn:hover { background: var(--accent-1); }

.modal-content {
    flex: 1;
    background: white;
    border-radius: 16px;
    border: none;
    width: 100%;
}

/* Footer */
footer {
    padding: 40px 20px;
    text-align: center;
    border-top: 1px solid var(--glass-border);
    background: rgba(17,24,39,.5);
}
footer a {
    color: var(--accent-1);
    font-weight: 700;
    text-decoration: none;
}
</style>
</head>

<body>

<header>
    <div class="logo">WD</div>
    <h1>Web Design and Development L3</h1>
</header>

<div class="controls">
    <input id="search" class="search-bar" placeholder="Filter projects (e.g. Day 1)">
</div>

<main>
    <div id="loader">
        <div class="spinner"></div>
        <p>Fetching Practice Work...</p>
    </div>
    <div id="grid" class="grid"></div>
</main>

<footer>
    Built with ‚ù§Ô∏è by <a href="https://github.com/taukir007" target="_blank">Taukir Ahmed</a>
</footer>

<!-- Modal -->
<div id="modal" class="modal">
    <div class="modal-toolbar">
        <button class="tool-btn" id="githubBtn">üìÇ</button>
        <button class="tool-btn" id="closeBtn">‚úï</button>
    </div>
    <iframe id="frame" class="modal-content"></iframe>
</div>

<script>
const OWNER = "taukir007";
const REPO = "webDandD";

const grid = document.getElementById("grid");
const loader = document.getElementById("loader");
const modal = document.getElementById("modal");
const frame = document.getElementById("frame");
let currentCodeUrl = "";

async function init() {
    try {
        const res = await fetch("data/folders.json", { cache: "no-store" });
        if (!res.ok) throw new Error("folders.json missing");
        const folders = await res.json();

        folders.sort((a,b) =>
            a.name.localeCompare(b.name, undefined, { numeric:true })
        );

        loader.style.display = "none";
        render(folders);

        document.getElementById("search").oninput = e => {
            const t = e.target.value.toLowerCase();
            render(folders.filter(f => f.name.toLowerCase().includes(t)));
        };
    } catch (e) {
        loader.innerHTML = "<p style='color:#f87171'>folders.json not found. Run GitHub Actions.</p>";
    }
}

function render(list) {
    grid.innerHTML = "";
    for (const item of list) {
        const hasIndex = item.index === true;
        const liveUrl = `https://${OWNER}.github.io/${REPO}/${item.path}/`;
        const codeUrl = `https://github.com/${OWNER}/${REPO}/tree/main/${item.path}`;

        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
            <span class="badge ${hasIndex ? "badge-live" : "badge-code"}">
                ${hasIndex ? "Live Preview" : "Code Only"}
            </span>
            <h3>${item.name}</h3>
            <p>${item.description || "Web development daily practice."}</p>
        `;

        card.onclick = () => {
            currentCodeUrl = codeUrl;
            modal.classList.add("open");
            document.body.style.overflow = "hidden";
            frame.src = hasIndex ? liveUrl : "about:blank";
        };

        grid.appendChild(card);
    }
}

/* Toolbar */
document.getElementById("closeBtn").onclick = () => {
    modal.classList.remove("open");
    frame.src = "";
    document.body.style.overflow = "auto";
};
document.getElementById("githubBtn").onclick = () => {
    if (currentCodeUrl) window.open(currentCodeUrl, "_blank");
};

init();
</script>

</body>
</html>
